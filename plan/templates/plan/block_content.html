{% extends "plan/base_block.html" %}
{% block title %}
    ToolBox | Building Blocks
{% endblock %}
{% block specific_css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'plan/css/base_block.css' %}">
{% endblock %}

{% block building_block_idea %}






    <!-- Showcase-->


    {% if not user.is_authenticated  %}
        <section class="bg-light text-dark p-3 mt-1">
        <div class="container">
            <div class="d-flex flex-column ">
                {#                <div class="text-center">#}
                {#                    <h4>Online Ideas</h4>#}
                {#                #}
                {#                </div>#}
                <div>
                    <h5>Course Exploration Mode</h5>
                    <p class="lead">If you want to save changes as well as the online ideas, please log in and crate a course to get started!</p>
                    <a class="btn btn-primary button-touch" href="{% url 'login' %}">Switch to Revision Mode</a>
                </div>


            </div>

        </div>

    </section>
    {% endif %}





    <!-- Block introductory text -->

    <section class="p-2 mt-2">
        <div class="container">
            <h3 class="text-center mb-5">{{ category.category.category_name }}</h3>
            <p class="text-start">{{ category.category.short_description |safe }}</p>

        </div>
    </section>




    <!-- Online Ideas -->


    <section class="p-5">
        <div class="accordion bg-info" id="accordionInfo">

            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Some important information
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                     data-bs-parent="#accordionInfo">
                    <div class="accordion-body">
                        <strong>here goes some text</strong>
                    </div>
                </div>
            </div>

        </div>
    </section>








    <!-- Online Ideas -->
    <div id="online-idea-container">
        <section class="p-5">
            <div class="container">
                <h2 class="text-center mb-md-5"> Discover the Online Ideas</h2>
                <div class="row align-items-center justify-content-between">

{#online_idea is M2M field#}

                    {% for idea in category.online_idea.all %}
                        <div class="col-md">

                            {#todo use dynamic urls to pass the corresponding idea object to the idea_overview page, passing the primary#}

                            {% if user.is_authenticated %}
                                {# Checkbox#}
                                <div class="row">


                                    <input type="checkbox" class="idea-checkbox" id="{{ idea.id }}-idea" onclick="add_delete_idea()"
                                            {#                        The ideas that have been already chosen by users are ticked off by default#}
                                            {% if idea.id in ideas_list %}
                                           checked
                                            {% endif %}
                                    >
                                </div>

                            {% endif %}

                            <div class="row">
                                <a href="{% url 'idea_overview_detail' current_category idea.id 'overview' %}"
                                   class="btn">
                                    <div class="card bg-body text-black">
                                        <div class="card-body text-center">
                                            <div class="h1 mb-3">
                                                <i class="bi bi-journal-code"></i>
                                            </div>
                                            <h3 class="card-title mb-3 bg-light">{{ idea.idea_name }}</h3>
                                            <p class="card-text">

                                                idea's brief description


                                            </p>
                                        </div>
                                    </div>
                                </a>
                            </div>


                        </div>

                    {% endfor %}


                </div>
            </div>
        </section>
    </div>


{#    Buttons bottom of the page#}

    </section>

    <section class="p-2">
        <div class="d-flex justify-content-end">
            <div>

                <a href="#" class="btn btn-primary active m-4" aria-current="page">View Summary checklist</a>

            </div>
            <div>

                {% if category.category.category_name != 'Rules & Regulations' %}
                    <a href="{% url  next_page %}" class="btn btn-primary active m-4" aria-current="page">Next Building
                        Block: {{ name_next_page }}</a>
                {% endif %}

            </div>
        </div>
        </div>

    </section>

      <script src="{% static 'plan/js/utils.js' %}"></script>
    <script src="{% static 'plan/js/add_delete_idea.js' %}"></script>

{% endblock %}


